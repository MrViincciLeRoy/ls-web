â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    LIQUIDSUITE - QUICK FIX CARD                           â•‘
â•‘              Bank Account ID NULL Constraint Error                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ PROBLEM:
   Statement ID 15 won't parse - 298 transactions blocked
   Error: "null value in column bank_account_id violates not-null constraint"

âš¡ QUICK FIX (Choose One):

   METHOD 1: Double-Click (EASIEST)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1. Open folder: scripts\emergency_fixes
   2. Double-click: RUN_FIX.bat
   3. Wait 30 seconds
   âœ… Done!

   METHOD 2: Command Line
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   cd "C:\Users\tv work\Documents\LiquidSuite-main\LiquidSuite-main\LiquidSuite"
   python scripts/emergency_fixes/fix_bank_account_constraint.py

ğŸ§ª TEST THE FIX:

   1. Open LiquidSuite in browser
   2. Go to: Gmail â†’ Statements
   3. Find: Statement ID 15 (Capitec)
   4. Click: Parse/Reprocess
   âœ… Should work now!

ğŸ“Š WHAT IT DOES:

   âœ“ Drops database constraint
   âœ“ Finds 298 broken transactions
   âœ“ Creates Capitec bank account
   âœ“ Links all transactions to account
   âœ“ Verifies everything fixed
   âœ“ Optionally restores constraint

â±ï¸  TIME: ~30 seconds
ğŸ”’ SAFE: Can run multiple times
ğŸ“ LOCATION: scripts/emergency_fixes/

ğŸ”§ FILES CHANGED:

   âœ… lsuite/gmail/services.py - Code fixed
   âœ… 3 new scripts in emergency_fixes/ folder

ğŸ†˜ TROUBLESHOOTING:

   "python not found"     â†’ Use python3 or RUN_FIX.bat
   "permission denied"    â†’ Run as Administrator
   "connection error"     â†’ Check PostgreSQL is running
   "0 transactions fixed" â†’ Already fixed, just retry parsing

âœ… SUCCESS CHECKLIST:

   â–¡ Fix script ran without errors
   â–¡ Reported "Successfully fixed X transactions"
   â–¡ Statement 15 now shows "Parsed" status
   â–¡ Can view all 298 transactions
   â–¡ No more NULL errors

ğŸ“ STILL STUCK?

   1. Check: lsuite.log file
   2. Screenshot: Error message
   3. Note: Python version (python --version)
   4. Contact: Support with above info

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ’¡ TIP: Keep this card handy for quick reference!                       â•‘
â•‘  ğŸ“ Full docs: scripts/emergency_fixes/README.md                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
